<!doctype html>
<html lang="ko">
<!-- 
임의 소스 수정 금지
-->
<head>

	<!-- meta og -->

	<meta property="og:title" content="전기 누진제 계산기">
		<meta property="og:description" content="전기 누진제 계산기">
	<meta name="og:image" content="http://www.mins01.com/img/logo.gif">
	<meta property="og:image:width" content="190">
	<meta property="og:image:height" content="70" />
	<meta property="og:site_name" content="공대여자 홈" />
	<meta property="og:type" content="website">
	
	<!-- //meta og -->

	<title>전기 누진제 계산기</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
	<!-- Jquery : not support < IE9-->
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script src="http://www.mins01.com/web_work/js/_M.all/_M.all.js"></script>
	<style type="text/css">
		.gp {border-radius: 3px;word-break:keep-all;white-space: nowrap;overflow:visible;background-color:#ccc;}
	</style>
</head>
<body>
<div class="container-fluid">
<h1>전기 누진제 계산기</h1>
<fieldset>
	<legend>전기요금계산 (일반 가정 6단계 누진 적용)</legend>
	<div style="width:320px;margin:2px auto" class="google_ad"><script type="text/javascript"><!--
		google_ad_client = "ca-pub-5804424351292113";
		/* 320모바일 */
		google_ad_slot = "5262485004";
		google_ad_width = 320;
		google_ad_height = 50;
		//-->
	</script>
	<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></div>
	<form name="form_type_1" class="form_type_1" action="" onsubmit="return false;">
	<table class="table table-striped table-bordered table-condensed" style="max-width:600px;margin:0 auto;">
		<caption>주거용 주택용(저압) 전기요금계산기 (적용일자 : 2013년 11월 21일)</caption>
		<tr>
			<th class="text-center" width="100">유형</th>
			<th class="text-center" width="150">주거용 주택용(저압)</th>
			<th class="text-center">비고</th>
		</tr>
		<tr>
			<th class="text-center">전력량(kWh)</th>
			<td><div class="form-group-sm"><input class="use_0 text-right form-control" name="use_0" value="50" required=""  type="number" onchange="type_1.set_use_0(this.form.use_0.value,this.form.use_1.value)"
			onkeyup="this.onchange()" 
			onkeydown="this.onchange()" 
			></div></td>
			<td>사용량</td>
		</tr>
		<tr>
			<th class="text-center">TV보유수</th>
			<td><div class="form-group-sm"><input class="use_1  text-right form-control" name="use_1" value="0" required="" type="number" onchange="type_1.set_use_0(this.form.use_0.value,this.form.use_1.value)"></div></td>
			<td>보유수 (없을 경우 한전에 연락해서 안 낼 수 도 있다.)</td>
		</tr>
		<tr>
			<th class="text-center">기본요금</th>
			<td class="text-right"><span class="price_1">0</span> 원</td>
			<td><span class="level_0">0</span>구간</td>
		</tr>
		<tr>
			<th class="text-center">전력량요금</th>
			<td class="text-right"><span class="price_2">0</span> 원</td>
			<td>반올림( <span class="price_2_1">0</span> +
			<span class="price_2_2">0</span> +
			<span class="price_2_3">0</span> +
			<span class="price_2_4">0</span> +
			<span class="price_2_5">0</span> +
			<span class="price_2_6">0</span> )</td>

		</tr>
		<tr>
			<th class="text-center">전기요금계</th>
			<td class="text-right"><span class="price_3">0</span> 원</td>
			<td>(기본요금+전력량요금 or 최저 1000원)</td>			
		</tr>
		<tr>
			<th class="text-center">부가세</th>
			<td class="text-right"><span class="price_4">0</span> 원</td>
			<td>반올림(전기요금계 10%)</td>
		</tr>
		<tr>
			<th class="text-center">기반요금</th>
			<td class="text-right"><span class="price_5">0</span> 원</td>
			<td>원단위절삭(전기요금계 3.7%)</td>
		</tr>
		<tr>
			<th class="text-center">TV수신료</th>
			<td class="text-right"><span class="price_6">0</span> 원</td>
			<td>2500원/TV</td>
		</tr>
		<tr>
			<th class="text-center">납부금액</th>
			<td class="text-right"><big class="text-danger"><span class="price_99">0</span></big> 원</td>
			<td>원단위절삭(전기요금계+부가세+기반요금)+TV수신료</td>
		</tr>
	</table>
	<div style="max-width:600px;margin:1em auto;">
		<ul>
			<li>주거용 고객(아파트 고객 포함), 계약전력 <b>3kW 이하</b>의 고객</li>
			<li>독신자 합숙소(기숙사 포함) 또는 집단주거용 사회복지시설로서 고객이 주택용 전력의 적용을 희망하는 경우 적용</li>
			<li>주거용 오피스텔 고객(주거용 오피스텔이란? 주택은 아니지만 실제 주거용도로 이용되는 오피스텔)</li>
		</ul>
	</div>
	</form>
	<hr>
	<form name="form_type_2" class="form_type_2" action="" onsubmit="return false;">
	<table class="table table-striped table-bordered table-condensed" style="max-width:600px;margin:0 auto;">
		<caption>주거용 주택용(고압) 전기요금계산기 (적용일자 : 2013년 11월 21일)</caption>
		<tr>
			<th class="text-center" width="100">유형</th>
			<th class="text-center" width="150">주거용 주택용(고압)</th>
			<th class="text-center">비고</th>
		</tr>
		<tr>
			<th class="text-center">전력량(kWh)</th>
			<td><div class="form-group-sm"><input class="use_0 text-right form-control" name="use_0" value="50" required=""  type="number" onchange="type_2.set_use_0(this.form.use_0.value,this.form.use_1.value)"
			onkeyup="this.onchange()" 
			onkeydown="this.onchange()" 
			></div></td>
			<td>사용량</td>
		</tr>
		<tr>
			<th class="text-center">TV보유수</th>
			<td><div class="form-group-sm"><input class="use_1  text-right form-control" name="use_1" value="0" required="" type="number" onchange="type_2.set_use_0(this.form.use_0.value,this.form.use_1.value)"></div></td>
			<td>보유수 (없을 경우 한전에 연락해서 안 낼 수 도 있다.)</td>
		</tr>
		<tr>
			<th class="text-center">기본요금</th>
			<td class="text-right"><span class="price_1">0</span> 원</td>
			<td><span class="level_0">0</span>구간</td>
		</tr>
		<tr>
			<th class="text-center">전력량요금</th>
			<td class="text-right"><span class="price_2">0</span> 원</td>
			<td>반올림( <span class="price_2_1">0</span> +
			<span class="price_2_2">0</span> +
			<span class="price_2_3">0</span> +
			<span class="price_2_4">0</span> +
			<span class="price_2_5">0</span> +
			<span class="price_2_6">0</span> )</td>

		</tr>
		<tr>
			<th class="text-center">전기요금계</th>
			<td class="text-right"><span class="price_3">0</span> 원</td>
			<td>(기본요금+전력량요금 or 최저 1000원)</td>			
		</tr>
		<tr>
			<th class="text-center">부가세</th>
			<td class="text-right"><span class="price_4">0</span> 원</td>
			<td>반올림(전기요금계 10%)</td>
		</tr>
		<tr>
			<th class="text-center">기반요금</th>
			<td class="text-right"><span class="price_5">0</span> 원</td>
			<td>원단위절삭(전기요금계 3.7%)</td>
		</tr>
		<tr>
			<th class="text-center">TV수신료</th>
			<td class="text-right"><span class="price_6">0</span> 원</td>
			<td>2500원/TV</td>
		</tr>
		<tr>
			<th class="text-center">납부금액</th>
			<td class="text-right"><big class="text-danger"><span class="price_99">0</span></big> 원</td>
			<td>원단위절삭(전기요금계+부가세+기반요금)+TV수신료</td>
		</tr>
	</table>
	</form>
</fieldset>
<fieldset>
	<legend>정보</legend>
	<ul>
		<li><a href="http://cyber.kepco.co.kr/ckepco/front/jsp/CY/E/E/CYEEHP00101.jsp"  target="_blank">한글 전기요금표 (한전)</a></li>
		<li><a href="http://www.mins01.com" target="_blank">제작 : 공대여자</a></li>
		<li>오차가 있을 수 있습니다. 문제가 있을 수 있습니다. 이를 사용함에 대한 문제에 대해서는 제작자는 책임지지 않습니다.(참고만 하세요.)</li>
		<li>단계별 가격(TV 없음) : 저압
			<ul id="ex_type_1">
				
			</ul>
		</li>
	</ul>
</fieldset>



<script>
	$(function(){
		var f = document.form_type_1;
		type_1.set_use_0(f.use_0.value,f.use_1.value)
		var f = document.form_type_2;
		type_2.set_use_0(f.use_0.value,f.use_1.value)
		// draw_tbody_type_1(100);
		document.form_ex_type_1.onsubmit();
		
	})

	function draw_tbody_type_1(gap){
		gap = parseInt(gap);
		if(!gap || gap<0){
			alert('잘못된 숫자입니다.')
		}
		var tbody_type_1 = $("#tbody_type_1");

		var t = 0;
		var last = 0;
		var p = 0;
		var def = '<tr class="{{tr_class}}"><td class="text-right" >{{p1}} kWh</td><td class="text-right" >{{p2}} 원</td><td class="text-right" >{{p2_1}} 원</td><td class="text-left"><div class="gp" style="width:{{p3}}%;">{{p3}}%</div></td></tr>';
		var vals = [];
		var i_limit = 1000;
		for(var i=gap,m=1000;i<=m && i_limit-->0;i+=gap){
			p = type_1.set_use_0(i,0);
			vals.push([i,p]);
		}
		if(i<1000){
			i = 1000;
			p = type_1.set_use_0(i,0);
			vals.push([i,p]);
		}
		var max_p2 = vals[vals.length-1][1]/vals[vals.length-1][0];
		// tbody_type_1.html('');
		var str = '';
		for(var i=0,m=vals.length;i<m;i++){
			var p1 = vals[i][0];
			var p2 = vals[i][1];
			
			var p2_1 = p2/p1;
			var p3 = (p2_1/max_p2*100).toFixed(2);
			if(p1%100===0){
				var tr_class = 'info';
			}else{
				var tr_class = '';
			}
			str += def.replace('{{p1}}',p1).replace('{{tr_class}}',tr_class).replace('{{p2}}',_M.STRING.numberFormat(p2)).replace('{{p2_1}}',_M.STRING.numberFormat(p2_1)).replace(/\{\{p3\}\}/g,p3);
			
		}
		tbody_type_1.html(str);
		
	}

	function generate_type_x(n){
		if(n==1){
			var price_1_fee = [0,410,910,1600,3850,7300,12940];
			var price_2_fee = [0,60.7,125.9,187.9,280.6,417.7,709.5];	
		}else if(n==2){
			var price_1_fee = [0,410,730,1260,3170,6060,10760];
			var price_2_fee = [0,57.6,98.9,147.3,215.6,325.7,574.6];	
		}
		

		return {
			"layout_class":"",
			"set_use_0":function(use_0,use_1,only_price_99){
				var use_0 = parseInt(use_0);
				var use_1 = parseInt(use_1);
				var level_0 = this.get_level(use_0);
				if(!only_price_99) $('.level_0').text(level_0);
				var price_1 = this.get_price_1(level_0);
				
				if(!only_price_99) $('.price_1').text(_M.STRING.numberFormat(price_1));
				var price_2_s = this.get_price_2(use_0);
				if(!only_price_99) $(this.layout_class+' .price_2').text(_M.STRING.numberFormat(price_2_s[0]));
				if(!only_price_99) $(this.layout_class+' .price_2_1').text(_M.STRING.numberFormat(price_2_s[1].toFixed(2)));
				if(!only_price_99) $(this.layout_class+' .price_2_2').text(_M.STRING.numberFormat(price_2_s[2].toFixed(2)));
				if(!only_price_99) $(this.layout_class+' .price_2_3').text(_M.STRING.numberFormat(price_2_s[3].toFixed(2)));
				if(!only_price_99) $(this.layout_class+' .price_2_4').text(_M.STRING.numberFormat(price_2_s[4].toFixed(2)));
				if(!only_price_99) $(this.layout_class+' .price_2_5').text(_M.STRING.numberFormat(price_2_s[5].toFixed(2)));
				if(!only_price_99) $(this.layout_class+' .price_2_6').text(_M.STRING.numberFormat(price_2_s[6].toFixed(2)));
				
				var price_3 = Math.max(1000,price_1+price_2_s[0]);
				if(!only_price_99) $(this.layout_class+' .price_3').text(_M.STRING.numberFormat(price_3));
				var price_4 = Math.round(price_3/10);
				if(!only_price_99) $(this.layout_class+' .price_4').text(_M.STRING.numberFormat(price_4));
				var price_5 = Math.floor((price_3*3.7)/1000)*10;
				if(!only_price_99) $(this.layout_class+' .price_5').text(_M.STRING.numberFormat(price_5));
				var price_6 = use_1*2500;
				if(!only_price_99) $(this.layout_class+' .price_6').text(_M.STRING.numberFormat(price_6));

				var price_99 = price_3+price_4+price_5+price_6
				price_99 = Math.floor(price_99/10)*10; // 원단위 절삭
				if(!only_price_99) $(this.layout_class+' .price_99').text(_M.STRING.numberFormat(price_99));
				return price_99;

			},
			"get_level":function(use_0){ //기본요금
				if(use_0>500){
					return 6;
				}else if(use_0 >= 401){
					return 5;
				}else if(use_0 >= 301){
					return 4;
				}else if(use_0 >= 201){
					return 3;
				}else if(use_0 >= 101){
					return 2;
				}else{
					return 1;
				}
			},
			"price_1_fee":price_1_fee,
			"get_price_1":function(level){ //기본요금
				return this.price_1_fee[level];
			},
			"get_price_2":function(use_0){ //기본요금
				var ps = [0,0,0,0,0,0,0];
				ps[1] = this.get_price_2_fee_for_level(use_0,1);
				ps[2] = this.get_price_2_fee_for_level(use_0,2);
				ps[3] = this.get_price_2_fee_for_level(use_0,3);
				ps[4] = this.get_price_2_fee_for_level(use_0,4);
				ps[5] = this.get_price_2_fee_for_level(use_0,5);
				ps[6] = this.get_price_2_fee_for_level(use_0,6);
				ps[0] = Math.round(ps[1]+ps[2]+ps[3]+ps[4]+ps[5]+ps[6]);
				return ps;
			},
			"price_2_fee":price_2_fee,
			"get_price_2_fee_for_level":function(use_0,level){ //1단계요금
				var t = 100*level;
				if(level==6){
					return Math.max(0,this.price_2_fee[level]*(use_0-500));
				}else{
					return Math.max(0,this.price_2_fee[level]*((use_0>t)?100:use_0-(t-100)));
				}
			},
			
		}

	}
	var type_1 = generate_type_x(1);
	type_1.layout_class = ".form_type_1"
	var type_2 = generate_type_x(2);
	type_2.layout_class = ".form_type_2"

</script>


<div style="width:300px;margin:2px auto" class="google_ad"><script type="text/javascript">			
	<!--
	google_ad_client = "ca-pub-5804424351292113";
	/* 300x250_하단위치 */
	google_ad_slot = "1810563809";
	google_ad_width = 300;
	google_ad_height = 250;
	//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></div>


<fieldset>
	<legend>단계별 금액 증가표</legend>
		<form name="form_ex_type_1" class="form_ex_type_1" action="" onsubmit="draw_tbody_type_1(this.use_0.value);return false;">
	<table class="table table-striped table-bordered table-condensed" style="max-width:600px;margin:0 auto;">
		<tr>
			<th width="100" class="text-center">단계(kWh)</th>
			<td><div class="form-group-sm"><input class="use_0 text-right form-control" name="use_0" value="10" required=""  type="number" 
			></div></td>
			<td  width="100"><button class="btn btn-sm btn-default">표 생성</button></td>
		</tr>
	</table>
	<table class="table table-striped table-bordered table-condensed table-hover" style="max-width:600px;margin:0 auto;">
		<caption>주거용 주택용(저압)기준</caption>
		<tr>
			<th class="text-center" width="100">사용량</th>
			<th class="text-center" width="100">금액</th>
			<th class="text-center" width="100">1kWh 당 금액</th>
			<th class="text-center">1kWh 당 금액 그래프</th>
		</tr>
		<tbody id="tbody_type_1">
			<tr>
				<td class="text-center" >0000 kWh</td>
				<td class="text-center" >00,000 원</td>
				<td class="text-left"><div class="gp" style="width:90%;">90%</div></td>
			</tr>
		</tbody>
	</table>
</fieldset>
<p></p>

</div>

<script type="text/javascript">
// <![CDATA[ 구글 어날리틱스
if(document.location.hostname =='mins01.com' ||document.location.hostname =='www.mins01.com'){
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-28167507-1']);
  _gaq.push(['_trackPageview']);

  (function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	//ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	ga.src = ('https:' == document.location.protocol ?'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js'; //디스플레이 리마케팅과 광고 보고 기능을 사용하도록 수정
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
}
//]]>
</script>
</body>
</html>














